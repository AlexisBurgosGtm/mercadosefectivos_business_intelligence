(this.webpackJsonpreactesting=this.webpackJsonpreactesting||[]).push([[0],{47:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(19),s=n.n(i),c=n(3),r=n(4),l=n(7),u=n(6),d=n(5),b=n(20),h=n.n(b),j=n(10),p=n.n(j),m=n(21),v={getApiUrl:function(){return"https://mercadosefectivos-bi-api.herokuapp.com"},setMoneda:function(e,t){e=e.toString().replace(/\$|\,/g,""),isNaN(e)&&(e="0");var n=e==(e=Math.abs(e)),a=(e=Math.floor(100*e+.50000000001))%100;e=Math.floor(e/100).toString(),a<10&&(a="0"+a);for(var o=0;o<Math.floor((e.length-(1+o))/3);o++)e=e.substring(0,e.length-(4*o+3))+","+e.substring(e.length-(4*o+3));return((n?"":"-")+t+" "+e+("00"==a?"":"."+a)).toString()},setPorcentaje:function(e,t){e=e.toString().replace(/\$|\,/g,""),isNaN(e)&&(e="0");var n=e==(e=Math.abs(e)),a=(e=Math.floor(100*e+.50000000001))%100;e=Math.floor(e/100).toString(),a<10&&(a="0"+a);for(var o=0;o<Math.floor((e.length-(1+o))/3);o++)e=e.substring(0,e.length-(4*o+3))+","+e.substring(e.length-(4*o+3));return((n?"":"-")+" "+e+("00"==a?"":"."+a)).toString()+t},hablar:function(e){var t=new SpeechSynthesisUtterance(e);return window.speechSynthesis.speak(t)},FiltrarTabla:function(e,t){for(var n=document.getElementById(e),a=document.getElementById(t).value.toLowerCase(),o="",i=!1,s="",c=1;c<n.rows.length;c++){o=n.rows[c].getElementsByTagName("td"),i=!1;for(var r=0;r<o.length&&!i;r++)s=o[r].innerHTML.toLowerCase(),(0==a.length||s.indexOf(a)>-1)&&(i=!0);n.rows[c].style.display=i?"":"none"}},OcultarRows:function(e){for(var t=document.getElementById(e),n=1;n<t.rows.length;n++)n>15&&(t.rows[n].style.display="none")},ObtenerUbicacion:function(){var e=Object(m.a)(p.a.mark((function e(t,n){var a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=document.getElementById(t),o=document.getElementById(n);try{navigator.geolocation.getCurrentPosition((function(e){a.innerText=e.coords.latitude.toString(),o.innerText=e.coords.longitude.toString()}))}catch(i){v.AvisoError(i.toString())}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ComboMeses:function(){return"<option value='1'>Enero</option>\n                      <option value='2'>Febrero</option>\n                      <option value='3'>Marzo</option>\n                      <option value='4'>Abril</option>\n                      <option value='5'>Mayo</option>\n                      <option value='6'>Junio</option>\n                      <option value='7'>Julio</option>\n                      <option value='8'>Agosto</option>\n                      <option value='9'>Septiembre</option>\n                      <option value='10'>Octubre</option>\n                      <option value='11'>Noviembre</option>\n                      <option value='12'>Diciembre</option>"},ComboAnio:function(){return"<option value='2017'>2017</option>\n                      <option value='2018'>2018</option>\n                      <option value='2019'>2019</option>\n                      <option value='2020'>2020</option>\n                      <option value='2021'>2021</option>\n                      <option value='2022'>2022</option>\n                      <option value='2023'>2023</option>\n                      <option value='2024'>2024</option>\n                      <option value='2025'>2025</option>\n                      <option value='2026'>2026</option>\n                      <option value='2027'>2027</option>\n                      <option value='2028'>2028</option>\n                      <option value='2029'>2029</option>\n                      <option value='2030'>2030</option>"},getFecha:function(){var e=new Date,t=e.getDate(),n=e.getUTCMonth()+1;switch(t.toString()){case"30":case"31":n=e.getMonth()+1}var a="0"+t,o="0"+n;return e.getFullYear()+"-"+(3==o.length?n:o)+"-"+(3==a.length?t:a)},devuelveFecha:function(e){var t=new Date(document.getElementById(e).value);return t.getFullYear()+"-"+(t.getUTCMonth()+1)+"-"+t.getUTCDate()},exportTableToExcel:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="application/vnd.ms-excel;charset=UTF-8",o=document.getElementById(e),i=o.outerHTML.replace(/ /g,"%20");if(n=n?n+".xls":"excel_data.xlsx",t=document.createElement("a"),document.body.appendChild(t),navigator.msSaveOrOpenBlob){var s=new Blob(["ufeff",i],{type:"text/plain;charset=utf-8;"});navigator.msSaveOrOpenBlob(s,n)}else t.href="data:"+a+", "+i,t.download=n,t.click()},getHora:function(){var e=new Date,t=e.getHours(),n=e.getMinutes();return"".concat(t.toString(),":").concat(n.toString())},gotoGoogleMaps:function(e,t){window.open("https://www.google.com/maps?q=".concat(e,",").concat(t))}},g=v,O=n(0),f=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).menu=o.a.createRef(),a.state={empresas:[],menu:"circular-menu",loading:!1},a}return Object(r.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsxs)("h3",{className:"text-info",children:[Object(O.jsx)("i",{className:"fas fa-spinner fa-spin"})," \xa0Cargando datos..."]})})}}]),n}(a.Component),x=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onLogout=function(){a.props.vista("LOGIN")},a.onGetMenu=function(e){a.props.vista(e)},a.onGetEmpresa=function(e){g.hablar(e)},a.toggleMenu=function(){var e="";e="circular-menu"===a.state.menu?"circular-menu active":"circular-menu",a.setState({menu:e})},a.menu=o.a.createRef(),a.state={empresas:[],menu:"circular-menu",loading:!1,opcion:""},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),h.a.get("".concat("https://mercadosefectivos-bi-api.herokuapp.com","/getempresas")).then((function(t){var n=t.data.recordset;e.setState({empresas:n,loading:!1})})).catch((function(){e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this;return 1==this.state.loading?Object(O.jsx)(f,{}):Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"row card-deck",children:this.state.empresas.map((function(t){return Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)("div",{className:"card border-top-rounded border-bottom-rounded shadow hand p-10 mb-3 px-3 text-secondary border-secondary ",onClick:function(){e.onGetEmpresa(t.EMPNIT)},children:Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-3",children:Object(O.jsx)("img",{src:"./favicon.png",width:"50",height:"50"})}),Object(O.jsxs)("div",{className:"col-9",children:[Object(O.jsx)("br",{}),Object(O.jsx)("h3",{className:"text-secondary",children:t.NOMBRE})]})]}),Object(O.jsxs)("div",{className:"row border-bottom border-gris",children:[Object(O.jsx)("div",{className:"col-4",children:Object(O.jsx)("label",{children:"Ventas:"})}),Object(O.jsx)("div",{className:"col-8",children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:g.setMoneda(t.VENTAS,"Q")})})})]}),Object(O.jsxs)("div",{className:"row border-bottom border-gris",children:[Object(O.jsx)("div",{className:"col-4",children:Object(O.jsx)("label",{children:"Costo:"})}),Object(O.jsx)("div",{className:"col-8",children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:g.setMoneda(t.COSTO,"Q")})})})]}),Object(O.jsxs)("div",{className:"row border-bottom border-gris",children:[Object(O.jsx)("div",{className:"col-4",children:Object(O.jsx)("label",{children:"Utilidad:"})}),Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:g.setMoneda(t.UTILIDAD,"Q")})})}),Object(O.jsx)("div",{className:"col-2",children:Object(O.jsx)("label",{className:"text-danger",children:Object(O.jsx)("b",{children:g.setPorcentaje(t.MARGEN,"%")})})})]})]})})},t.EMPNIT)}))}),Object(O.jsxs)("div",{className:this.state.menu,children:[Object(O.jsx)("a",{className:"floating-btn",onClick:function(){e.toggleMenu()},children:Object(O.jsx)("i",{className:"fas fa-plus"})}),Object(O.jsxs)("menu",{className:"items-wrapper",children:[Object(O.jsx)("a",{href:"#","data-toggle":"tooltip","data-placement":"left",title:"An\xe1lisis de Productos",className:"menu-item  fas fa-box",onClick:function(){e.onGetMenu("ANALISIS_PRODUCTOS")},children:"P"}),Object(O.jsx)("a",{href:"#","data-toggle":"tooltip","data-placement":"left",title:"An\xe1lisis de Marcas",className:"menu-item  fas fa-briefcase",onClick:function(){e.onGetMenu("ANALISIS_MARCAS")},children:"M"}),Object(O.jsx)("a",{href:"#","data-toggle":"tooltip","data-placement":"left",title:"An\xe1lisis por Municipio",className:"menu-item  fas fa-map-marker-alt",onClick:function(){e.onGetMenu("ANALISIS_MAPA")},children:"U"}),Object(O.jsx)("a",{href:"#","data-toggle":"tooltip","data-placement":"left",title:"Historial",className:"menu-item  fas fa-chart-line",onClick:function(){e.onGetMenu("ANALISIS_HISTORICO")},children:"H"})]})]})]})}}]),n}(a.Component),N=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).user=o.a.createRef(),a.pass=o.a.createRef(),a.login=a.login.bind(Object(l.a)(a)),a.state={vista:"LOGIN"},a}return Object(r.a)(n,[{key:"login",value:function(){this.setState({vista:"INICIO"})}},{key:"render",value:function(){return"LOGIN"==this.state.vista?Object(O.jsx)("div",{className:"card col-sm-12 col-md-4 col-lg-4 col-xl-3 shadow",children:Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("div",{className:"form-group text-center",children:Object(O.jsx)("img",{src:"./favicon.png",width:"50",height:"50"})}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"Usuario"}),Object(O.jsx)("input",{ref:this.user,type:"text",className:"form-control",placeholder:"Escriba su Usuario"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"Usuario"}),Object(O.jsx)("input",{ref:this.pass,type:"password",className:"form-control",placeholder:"Escriba su Contrase\xf1a",id:"txtPass"})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("button",{className:"btn btn-info text-white shadow btn-lg",onClick:this.login,children:"Ingresar"})})]})}):Object(O.jsx)(S,{user:this.user.current.value,vista:"INICIO"})}}]),n}(a.Component),S=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).setVista=a.setVista.bind(Object(l.a)(a)),a.state={vista:a.props.vista},a}return Object(r.a)(n,[{key:"setVista",value:function(e){console.log(e),this.setState({vista:e})}},{key:"render",value:function(){switch(this.state.vista){case"LOGIN":return Object(O.jsx)(N,{usuario:""});case"INICIO":return Object(O.jsx)(x,{usuario:this.props.user,vista:this.setVista});case"ANALISIS_PRODUCTOS":return Object(O.jsx)("h2",{children:"Navegando a PRODUCTOS"});case"ANALISIS_MARCAS":return Object(O.jsx)("h2",{children:"Navegando a MARCAS"});case"ANALISIS_MAPA":return Object(O.jsx)("h2",{children:"'Navegando a MAPA'"});case"ANALISIS_HISTORICO":return Object(O.jsx)("h2",{children:"'Navegando a HISTORICO'"})}}}]),n}(a.Component),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),o(e),i(e),s(e)}))};s.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(S,{vista:"LOGIN"})}),document.getElementById("root")),I()}},[[47,1,2]]]);
//# sourceMappingURL=main.d162870d.chunk.js.map